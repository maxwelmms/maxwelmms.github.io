{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"about/","title":"About","text":""},{"location":"hmc/","title":"Hardware Management Console (HMC)","text":""},{"location":"hmc/#rootunrestricted-shell-hmc","title":"Root/unrestricted shell HMC","text":"<p>Ref: pesh command</p> <p>pesh provides full shell access to the HMC for product engineering and support personnel. pesh takes the serial number of the HMC machine or unique ID of the virtual HMC where full shell access is requested, then prompts the user for a one day password obtained from the support organization. If the password is valid, the user is granted full shell access. Only the hscpe user can run this command.</p> <p>To obtain full shell access to a Hardware Management Console (HMC): pesh serial-number-of-HMC-machine</p> <p>To obtain full shell access to a virtual HMC: pesh unique-ID-of-virtual-HMC</p> <p>On an HMC machine, run the lshmc -v command to list the Vital Product Data (VPD) information: lshmc -v</p> <p>Pass the serial number following the SE tag to the pesh command: pesh 10DA45C You will be prompted for a password.</p> <p>On a virtual HMC, run the lshmc -v command to list the Vital Product Data (VPD) information: lshmc -v</p> <p>Pass the unique ID following the UVMID tag with or without the : separators to the pesh command: pesh 4c7f:459c:4980:bef5 or pesh 4c7f459c4980bef5 You will be prompted for a password.</p>"},{"location":"hmc/#free-up-space-in-hmc-file-systems","title":"Free up space in HMC file systems","text":"<p>Ref: chhmcfs command</p> <p>chhmcfs frees up space in Hardware Management Console (HMC) file systems. Space is freed by removing temporary HMC files that are used for HMC and managed system firmware problem analysis from the HMC hard disk. This command can free up space in the following file systems: /var, /var/hsc/log, /dump, /extra, /data, and /. The temporary files that can be removed from the /var and /var/hsc/log file systems include HMC trace and log files. The temporary files that can be removed from the /dump file system include managed system dumps, managed frame dumps, and debug data collected using the HMC pedbg command. The temporary files that can be removed from the /extra file system include managed system dumps and managed frame dumps. The temporary files that can be removed from the /data file system include HMC Java core dump and heap dump files, and service files called home with serviceable events. This command will not remove temporary HMC trace and log files that are in use.</p> <p>EXAMPLES</p> <pre><code>#Remove temporary HMC files which have not been modified during the last day (24 hours) from all file systems:\nchhmcfs -o f -d 1\n\n#Remove all temporary HMC files from all file systems:\nchhmcfs -o f -d 0\n\n#Remove temporary HMC files which have not been modified during the last 36 hours from the /var file system:\nchhmcfs -o f -h 36 -f /var\n\n#Remove temporary HMC files from the /dump file system to free up to 100 MB:\nchhmcfs -o f -s 100 -f /dump\n</code></pre> <p>Ref: lshmcfs command</p> <p>lshmcfs lists Hardware Management Console (HMC) file system disk space usage information. Disk space usage information is listed for the HMC file systems that can contain temporary HMC files used for HMC and managed system firmware problem analysis. This command lists information for the following file systems: /var, /var/hsc/log, /dump, /extra, /data, and /. The temporary files in the /var and /var/hsc/log file systems include HMC trace and log files. The temporary files in the /dump file system include managed system dumps, managed frame dumps, and debug data collected using the HMC pedbg command. The temporary files in the /extra file system include managed system dumps and managed frame dumps. The temporary files in the /data file system include HMC Java core dump and heap dump files, and service files called home with serviceable events. All size and free space values displayed by this command are in megabytes.</p> <p>EXAMPLES</p> <pre><code>#List current HMC file system disk space usage information:\nlshmcfs\n\n#List HMC file system disk space usage information if temporary HMC files which have not been modified during the last 2 days (48 hours) were removed:\nlshmcfs -o c -d 2\n\n#List HMC file system disk space usage information if all temporary HMC files, except the trace and log files that are in use, were removed:\nlshmcfs -o c -d 0\n\n#List HMC file system disk space usage information if temporary HMC files were removed to free up to 100 MB in each file system:\nlshmcfs -o c -s 100\n</code></pre>"},{"location":"ibmsuppt/","title":"IBM Support","text":""},{"location":"ibmsuppt/#system-logs-and-data","title":"System logs and data","text":""},{"location":"ibmsuppt/#snap","title":"SNAP","text":"<pre><code>-a                copies all system config. information to /tmp/ibmsupt directory tree\n-c                creates a  compressed tar image (snap.tar.Z) of all files in the /tmp/ibmsupt\n-g                gather general information\n-e                for HACMP, it runs clverification and gathers the data creating a snap\n</code></pre> <p>EXAMPLES:</p> <pre><code>#removes old snap from /tmp/ibmsupt\nsnap -r\n\n#creates a new snap file\nsnap -gc\n</code></pre> <p>Reading a compressed snap file:</p> <pre><code>#creates a compressed snap file (/tmp/ibmsupt/snap.pax.Z)\nsnap -ac\n\n#uncompresses it, we will have a snap.pax file\nuncompress snap.pax.Z\n\n#unpack files, after files can be read\npax -rvf snap.pax\n</code></pre> <p>Extracting snap.pax.Z file:</p> <p>For basic dump analysis, this article is mostly interested in a dump image. Here, we cover how to extract the appropriate files from the snap package and then explain a methodical approach to examine the dump, and find the fundamental reason for a system crash. The dump file and the UNIX\u00ae file are in the dump subdirectory of the snap package.</p> <p>Though we are primarily focused on the dump image, it is important to note that snap can provide you with useful information when used with appropriate options. Additional information is found in the General and Kernel subsections of the article.</p> <p>General</p> <p>This general directory includes information about the system runtime environment, for example:</p> <pre><code>Copy of ODM data.\nAll environment variables (e.g., PATH and TZ).\nDate and time the data was collected.\nAmount of real memory on the system (bootinfo -r).\nListing of all defined paging spaces.\nListing of all installed filesets and their levels.\nListing of all installed APARs.\nDevice attributes (lsattr -El).\nSystem VPD information (lscfg -pv).\nStatus of last dump (sysdumpdev -L).\n</code></pre> <p>Kernel</p> <p>The kernel subdirectory contains useful kernel information (Process and memory data).</p> <pre><code>Date and time the data was collected\nVmstat output\nVMM tunable information (vmo -L).\nScheduling tunable information (schedo -L).\nI/O related tunable iformation (ioo -L).\nEnvironment variables.\nSRC information (lssrc -a).\nProcess information (ps -ef and ps -leaf).\nChecksum of device drivers and methods.\n</code></pre> <p>Extracting the snap package:</p> <p>The pax command is used to extract files from the snap package.</p> <pre><code>#To view the contents of a snap package, type:\nzcat snap.pax.Z | pax -v\n\n#To extract the entire contents of a package, type:\nzcat snap.pax.Z | pax -r\n\n#To extract just the dump, general, and kernel subdirectories, type:\nuncompress snap.pax.Z\nzcat snap.pax.Z | pax -r ./dump ./general ./kernel\n</code></pre>"},{"location":"license/","title":"License","text":""},{"location":"powerconf/","title":"Logical Partition (LPAR)","text":""},{"location":"powerconf/#profile-types-and-architecture","title":"Profile types and architecture","text":""},{"location":"powerconf/#cpu","title":"CPU","text":"<ul> <li>Dedicated: The PU is assigned to the LPAR in the Shared Processor Pool.</li> <li>Dedicated Donating: Flexibility to donate idle or spare processors owned by a dedicated LPAR to a shared processor pool.</li> <li>Shared Uncapped:<ul> <li>Processing Units (PU):<ul> <li>Configure the desired number of Processing Units (PUs) to support average off-peak utilization +20%.</li> </ul> </li> <li>Virtual Processor (VP):<ul> <li>Configure enough Virtual Processors (VPs) to handle processing spikes.</li> </ul> </li> </ul> </li> <li>Shared Capped:<ul> <li>Processing Units (PU):<ul> <li>Configure the number of Processing Units (PU) for peak times + 20%.</li> </ul> </li> <li>Virtual Processor (VP):<ul> <li>Set desired Virtual Processors (VPs) to the next integer after the number of Processing Units (PUs).</li> </ul> </li> </ul> </li> <li> <p>Both:</p> <ul> <li>The EC/VP ratio should be around 0.6 and 0.7.</li> </ul> </li> <li> <p>Weight: Sorts by priority (weight) the LPARs that will use the Shared Processor Pool so that they can make use of virtual processors.</p> <ul> <li>All client LPARs are weighted equally, and the recommendation is to prioritize loans in the SPP.</li> <li>Example: VIOS=255 / PRD=180-200 / QAS,DEV=128-160.</li> </ul> </li> <li>Entitlement:<ul> <li>Desired: Number of processors allocated to a given LPAR.</li> <li>Max: Maximum number of processors that can be dynamically adjusted through a procedure via HMC (DLPAR), Dynamic Logical Partitioning.</li> </ul> </li> <li>Desired Proc: Number of virtual processors allocated to a given LPAR to cover processing spikes. The number of additional vCPUs will be borrowed from the Shared Processor Pool. (SPP)</li> <li>SMT: The number of \"threads\" (Simultaneous Multi-Thread) is multiplied with the number of virtual processors allocated, generating the \"Logical CPUs\u201d. The load in the Logical CPUs should be considered in case of EC or VP changes.</li> </ul>"},{"location":"powerperfmgm/","title":"Performance and Management","text":""},{"location":"powerperfmgm/#data-collect","title":"Data collect","text":"<ul> <li>HMCScanner: HMC Scanner is a Java program that uses SSH to connect to an HMC. It downloads the system configuration and produces a single Excel spreadsheet that contains the configuration of servers and LPARs.</li> <li>PART: Provides performance reports with suggestions for making configuration changes to the environment and helps to identify areas for further investigation. The reports are based on the key performance metrics of various partition resources that are collected from the Virtual I/O Server (VIOS) environment.</li> <li>INVSCOUT: A Microcode Survey gathers data from the host system on currently installed microcode for supported systems, devices and adapters.</li> <li>PCAT: Takes the current configuration of the operating system to compare with best practices parameters.</li> <li>NMON: System performance tool for measurement analysis.</li> </ul> <p>Ref:</p> <ul> <li>MDS (Microcode Discovery Service)</li> <li>FLRT (Fix Level Recommendation Tool)</li> </ul>"}]}